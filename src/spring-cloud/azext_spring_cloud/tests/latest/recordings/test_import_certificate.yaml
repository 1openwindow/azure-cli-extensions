interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x86
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 24 Apr 2020 11:38:28 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AqhgmLGEldpOpRVXCt7YWRY; expires=Sun, 24-May-2020 11:38:28 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAAm-06blBE1TpVMil8KPQ41oXs09RkZNojJTRZQPLOWVDrXpc19L1lICkwhTFcKZ_HmUwM207i3_WBpnCpKks3bfLiYLng8M91QN-xVzHpHDEgpWTIKMC7MnpmgT2wrxaaaoXckmZ6H5gbNfib_o7UsKNK5xz6Bb6rLBfHhwDEBQZYh0z1OML_vFHD8o4GJ704gAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10433.14 - SIN1 ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"vaultUri": "https://integration-test.vault-int.azure-int.net/",
      "keyVaultCertName": "cli-ut"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - spring-cloud certificate add
      Connection:
      - keep-alive
      Content-Length:
      - '111'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --name --vault-uri --vault-certificate-name
      User-Agent:
      - python/3.8.1 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.2
        azure-mgmt-appplatform/0.1.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli/providers/Microsoft.AppPlatform/Spring/cli-unit-test/certificates/test-cert?api-version=2019-05-01-preview
  response:
    body:
      string: '{"properties":{"thumbprint":"18c6f4bde4077d63a4f0ec8b70c38024478a9305","vaultUri":"https://integration-test.vault-int.azure-int.net/","keyVaultCertName":"cli-ut","certVersion":"dd64505807cf4219831f3cf6d7743d3b","issuer":"*.asc-test.net","expirationDate":"2021-04-24T11:17:54.000+0000","activateDate":"2020-04-24T11:07:54.000+0000","subjectName":"CN=*.asc-test.net","dnsNames":["cli.asc-test.net"]},"type":"Microsoft.AppPlatform/Spring/certificates","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli/providers/Microsoft.AppPlatform/Spring/cli-unit-test/certificates/test-cert","name":"test-cert"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '622'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 24 Apr 2020 11:38:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - nginx/1.17.7
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-rp-server-mvid:
      - 05ac7b74-8735-4467-9060-f941f12d144d
    status:
      code: 200
      message: OK
version: 1
